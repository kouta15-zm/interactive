<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Menu</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
    <div class="container-fluid" id="category-menu">
        <div class="row">
            <div class="col-sm-4">
                <div class="imagebox">
                    <a href="javascript:void(0);" onclick="showSubcategories('casa')">
                        <img src="src/IMAGEN/1.png" class="category-banner img-fluid">
                        <span class="imagebox-desc">Casa</span>
                    </a>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="imagebox">
                    <a href="javascript:void(0);" onclick="showSubcategories('construccion')">
                        <img src="src/IMAGEN/2.png" class="category-banner img-fluid">
                        <span class="imagebox-desc">Construcción</span>
                    </a>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="imagebox">
                    <a href="javascript:void(0);" onclick="showSubcategories('escuela')">
                        <img src="src/IMAGEN/3.png" class="category-banner img-fluid">
                        <span class="imagebox-desc">Escuela</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="questions" id="questions" style="display: none;">
        <div id="questions-content"><!-- Aquí se mostrarán submenús y preguntas --></div>
        <button class="back-button" id="back-to-menu" onclick="goBackToMenu()">Volver al Menú Principal</button>
    </div>

    <!-- Video Container -->
    <div class="video-container" id="video-container" style="display: none;">
        <video id="video-frame" src="" style="width:100%;height:100%;border-radius:0;display:block;background:#000;"></video>
        <div id="custom-controls" class="custom-controls" style="display:none;">
            <button id="play-pause-btn" class="control-btn">⏸️</button>
            <input id="volume-slider" class="control-slider" type="range" min="0" max="1" step="0.01" value="1">
            <input id="progress-bar" class="control-slider" type="range" min="0" max="100" value="0">
            <span id="time-indicator" class="time-indicator">00:00 / 00:00</span>
        </div>
        <button class="exit-button" onclick="exitVideo()">Salir del Video</button>
    </div>
    <div id="video-overlay" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:0;pointer-events:none;z-index:2000;"></div>

    <button id="select-folder-btn" style="display:none;position:fixed;top:10px;right:10px;z-index:3000;">Seleccionar carpeta de videos</button>
    <script>
      // Esperar a que la API de Electron esté disponible
      window.addEventListener('DOMContentLoaded', async () => {
        if (window.electronAPI) {
          let videosPath = await window.electronAPI.getVideosFolder();
          if (!videosPath) {
            document.getElementById('select-folder-btn').style.display = 'block';
            document.getElementById('select-folder-btn').onclick = async () => {
              const selected = await window.electronAPI.selectVideosFolder();
              if (selected) {
                location.reload();
              }
            };
          }
        }
      });
    </script>

    <script src="scripts.js"></script>
</body>
</html>